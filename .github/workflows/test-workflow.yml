name: Manual test workflow

on:
  workflow_dispatch:

jobs:
  windows-smoke-test:
    runs-on: windows-latest
    defaults:
      run:
        working-directory: hello-world
        shell: bash        
        
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-node@v3
        with:
          node-version: '18'    

      - name: Install and run dev server
        run: |
          ls -lh
          npm install
          npm run start &
          
      - name: Hit dev server
        run: |
          curl http://localhost:3000/
          curl http://localhost:3000/partial/Cars
          echo "OK, I think?"




# name: smoke-test
# run-name: ${{ github.actor }} is running a smoke test
# 
# on:
#   workflow_dispatch:
#   
# jobs:
#   win-smoke-test:
#     runs-on: windows-2019
#     steps:
#       - uses: actions/checkout@v3
#       - uses: actions/setup-node@v3
#         with:
#           node-version: '18'
#       - run: npm install -g bats
#       - run: bats -v    
